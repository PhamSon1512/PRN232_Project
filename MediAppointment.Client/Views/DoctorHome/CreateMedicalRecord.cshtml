@model MediAppointment.Client.Models.MedicalRecord.CreateMedicalRecordRequest

@{
	ViewData["Title"] = "Thêm hồ sơ bệnh án";
	Layout = "~/Views/Shared/_DoctorLayout.cshtml";
}

<style>
	.a4-form-container {
		background: white;
		width: 794px; /* đúng khổ A4 chiều ngang trên màn hình (210mm * 3.78) */
		min-height: 1123px; /* đúng chiều dọc A4 (297mm * 3.78) */
		padding: 40px 60px;
		margin: 30px auto;
		box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
		border-radius: 10px;
		font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
	}

		.a4-form-container h2 {
			font-size: 24px;
			font-weight: bold;
			text-align: center;
			margin-bottom: 30px;
		}

	.form-label {
		font-weight: 600;
	}

	.form-control,
	textarea {
		font-size: 14px;
		padding: 6px 10px;
	}

	.text-end {
		text-align: right;
		margin-top: 20px;
	}

	button.btn,
	a.btn {
		padding: 6px 20px;
		font-size: 14px;
	}
</style>


<div class="a4-form-container shadow">
	<h2 class="text-center mb-4">Hồ Sơ Bệnh Án</h2>

	<form asp-action="CreateMedicalRecord" method="post">
		@Html.AntiForgeryToken()
		@Html.ValidationSummary(true, "", new { @class = "text-danger" }) <!-- thêm dòng này -->
		@Html.HiddenFor(m => m.PatientId)
		<input type="hidden" name="roomTimeSlotId" value="@ViewBag.RoomTimeSlotId" />
		<input type="hidden" name="week" value="@ViewBag.Week" />
		<input type="hidden" name="year" value="@ViewBag.Year" />
		<input type="hidden" name="date" value="@(((DateTime)ViewBag.Date).ToString("yyyy-MM-dd"))" />
		<input type="hidden" name="period" value="@ViewBag.Period" />

		<div class="row mb-3">
			<div class="col-md-6">
				<label asp-for="Height" class="form-label">Chiều cao (cm)</label>
				<input asp-for="Height" class="form-control" />
				<span asp-validation-for="Height" class="text-danger"></span>
			</div>
			<div class="col-md-6">
				<label asp-for="Weight" class="form-label">Cân nặng (kg)</label>
				<input asp-for="Weight" class="form-control" />
				<span asp-validation-for="Weight" class="text-danger"></span>
			</div>
		</div>

		<div class="row mb-3">
			<div class="col-md-6">
				<label asp-for="BloodType" class="form-label">Nhóm máu</label>
				<input asp-for="BloodType" class="form-control" />
				<span asp-validation-for="BloodType" class="text-danger"></span>
			</div>
			<div class="col-md-6">
				<label asp-for="VitalSigns" class="form-label">Huyết áp</label>
				<input asp-for="VitalSigns" class="form-control" />
				<span asp-validation-for="VitalSigns" class="text-danger"></span>
			</div>
		</div>

		<div class="row mb-3">
			<div class="col-md-6">
				<label asp-for="Allergies" class="form-label">Dị ứng</label>
				<textarea asp-for="Allergies" class="form-control"></textarea>
				<span asp-validation-for="Allergies" class="text-danger"></span>
			</div>
			<div class="col-md-6">
				<label asp-for="Chronic" class="form-label">Bệnh mãn tính</label>
				<textarea asp-for="Chronic" class="form-control"></textarea>
				<span asp-validation-for="Chronic" class="text-danger"></span>
			</div>
		</div>

		<div class="mb-3">
			<label asp-for="MedicalHistory" class="form-label">Tiền sử bệnh</label>
			<textarea asp-for="MedicalHistory" class="form-control" rows="2"></textarea>
			<span asp-validation-for="MedicalHistory" class="text-danger"></span>
		</div>

		<div class="mb-3">
			<label asp-for="Symptoms" class="form-label">Triệu chứng</label>
			<textarea asp-for="Symptoms" class="form-control" rows="2"></textarea>
			<span asp-validation-for="Symptoms" class="text-danger"></span>
		</div>

		<div class="mb-3">
			<label asp-for="Diagnosis" class="form-label">Chẩn đoán</label>
			<textarea asp-for="Diagnosis" class="form-control" rows="2"></textarea>
			<span asp-validation-for="Diagnosis" class="text-danger"></span>
		</div>

		<div class="mb-3">
			<label asp-for="MedicalResult" class="form-label">Kết quả khám</label>
			<textarea asp-for="MedicalResult" class="form-control" rows="2"></textarea>
			<span asp-validation-for="MedicalResult" class="text-danger"></span>
		</div>

		<div class="mb-3">
			<label asp-for="DepartmentVisited" class="form-label">Khoa đã khám</label>
			<input asp-for="DepartmentVisited" class="form-control" />
			<span asp-validation-for="DepartmentVisited" class="text-danger"></span>
		</div>

		<div class="mb-3">
			<label asp-for="DoctorName" class="form-label">Bác sĩ khám</label>
			<input asp-for="DoctorName" class="form-control" />
			<span asp-validation-for="DoctorName" class="text-danger"></span>
		</div>

		<div class="mb-3">
			<label asp-for="Medications" class="form-label">Đơn thuốc</label>
			<textarea asp-for="Medications" class="form-control" rows="2"></textarea>
			<span asp-validation-for="Medications" class="text-danger"></span>
		</div>

		<div class="mb-3">
			<label asp-for="TreatmentPlan" class="form-label">Kế hoạch điều trị</label>
			<textarea asp-for="TreatmentPlan" class="form-control" rows="2"></textarea>
			<span asp-validation-for="TreatmentPlan" class="text-danger"></span>
		</div>

		<div class="mb-3">
			<label asp-for="NextAppointmentDate" class="form-label">Ngày hẹn tái khám</label>
			<input asp-for="NextAppointmentDate" type="date" class="form-control" />
			<span asp-validation-for="NextAppointmentDate" class="text-danger"></span>
		</div>

		<div class="text-end">
			<button type="submit" class="btn btn-primary">Lưu hồ sơ</button>
			<a asp-action="PatientDetail"
			   asp-controller="DoctorHome"
			   asp-route-roomTimeSlotId="@ViewBag.RoomTimeSlotId"
			   asp-route-week="@ViewBag.Week"
			   asp-route-year="@ViewBag.Year"
			   asp-route-date="@ViewBag.Date"
			   asp-route-period="@ViewBag.Period"
			   class="btn btn-secondary ms-2">
				Quay lại
			</a>

		</div>
	</form>
</div>
@section Scripts {
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.5/dist/jquery.validate.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/jquery-validation-unobtrusive@3.2.12/dist/jquery.validate.unobtrusive.min.js"></script>
}

